<p>inscriptions works!</p>
<div class="inscriptions-container">
  <header class="page-header">
    <h1>Inscripciones a Torneos</h1>
    <p>Gestiona las inscripciones de tus equipos a diferentes torneos</p>
  </header>

  <!-- NavegaciÃ³n por pestaÃ±as -->
  <div class="tabs">
    <button 
      [class.active]="activeTab === 'inscription'"
      (click)="setActiveTab('inscription')">
      <i class="tab-icon">ğŸ“</i> Nueva InscripciÃ³n
    </button>
    <button 
      [class.active]="activeTab === 'status'"
      (click)="setActiveTab('status')">
      <i class="tab-icon">ğŸ“Š</i> Estado de Inscripciones
      <span class="badge">{{currentInscriptions.length}}</span>
    </button>
    <button 
      [class.active]="activeTab === 'history'"
      (click)="setActiveTab('history')">
      <i class="tab-icon">ğŸ†</i> Historial de Torneos
      <span class="badge">{{inscriptionHistory.length}}</span>
    </button>
  </div>

  <!-- Contenido de las pestaÃ±as -->
  <div class="tab-content">
    
    <!-- PestaÃ±a: Nueva InscripciÃ³n -->
    <div *ngIf="activeTab === 'inscription'" class="inscription-form-section">
      <div class="form-container">
        <h2><i class="form-icon">ğŸ“‹</i> Inscribir Equipo a Torneo</h2>
        
        <form (ngSubmit)="submitInscription()" #inscriptionForm="ngForm">
          
          <!-- SelecciÃ³n de Equipo -->
          <div class="form-group">
            <label for="teamSelect">
              <i class="field-icon">ğŸ‘¥</i> Seleccionar Equipo *
            </label>
            <select 
              id="teamSelect"
              [(ngModel)]="selectedTeam" 
              name="teamSelect"
              (change)="onTeamSelect()"
              required
              class="form-select">
              <option value="" disabled selected>Selecciona tu equipo</option>
              <option *ngFor="let team of userTeams" [value]="team.id">
                {{team.name}} ({{team.category}}) - {{team.players}} jugadores
              </option>
            </select>
            <small>Elige el equipo que deseas inscribir</small>
          </div>

          <!-- Nombre del equipo (solo lectura) -->
          <div class="form-group" *ngIf="selectedTeam">
            <label>
              <i class="field-icon">ğŸ·ï¸</i> Nombre del Equipo
            </label>
            <input 
              type="text" 
              [(ngModel)]="teamName" 
              name="teamName"
              readonly
              class="form-input readonly">
          </div>

          <!-- SelecciÃ³n de Torneo -->
          <div class="form-group">
            <label for="tournamentSelect">
              <i class="field-icon">ğŸ†</i> Seleccionar Torneo *
            </label>
            <select 
              id="tournamentSelect"
              [(ngModel)]="selectedTournament" 
              name="tournamentSelect"
              (change)="onTournamentSelect()"
              required
              class="form-select">
              <option value="" disabled selected>Selecciona un torneo</option>
              <option *ngFor="let tournament of tournaments" [value]="tournament.id">
                {{tournament.name}} - {{tournament.category}} - ${{tournament.fee}}
              </option>
            </select>
            <small>Torneos disponibles para inscripciÃ³n</small>
          </div>

          <!-- Detalles del Torneo Seleccionado -->
          <div *ngIf="selectedTournamentDetails" class="tournament-details">
            <h3>ğŸ“‹ Detalles del Torneo</h3>
            <div class="details-grid">
              <div class="detail-item">
                <span class="detail-label">CategorÃ­a:</span>
                <span class="detail-value">{{selectedTournamentDetails.category}}</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Fecha Inicio:</span>
                <span class="detail-value">{{selectedTournamentDetails.startDate}}</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Fecha Fin:</span>
                <span class="detail-value">{{selectedTournamentDetails.endDate}}</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Costo de InscripciÃ³n:</span>
                <span class="detail-value fee">${{selectedTournamentDetails.fee}}</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Equipos MÃ¡ximos:</span>
                <span class="detail-value">{{selectedTournamentDetails.maxTeams}} equipos</span>
              </div>
            </div>
          </div>

          <!-- CapitÃ¡n del Equipo -->
          <div class="form-group">
            <label>
              <i class="field-icon">ğŸ‘‘</i> CapitÃ¡n del Equipo
            </label>
            <input 
              type="text" 
              [(ngModel)]="captainName" 
              name="captainName"
              readonly
              class="form-input readonly">
            <small>Representante principal del equipo</small>
          </div>

          <!-- AceptaciÃ³n de Reglas -->
          <div class="form-group rules-section">
            <div class="checkbox-container">
              <input 
                type="checkbox" 
                id="acceptRules"
                [(ngModel)]="acceptRules"
                name="acceptRules"
                required>
              <label for="acceptRules">
                <i class="field-icon">âœ“</i> Acepto las reglas del torneo
              </label>
            </div>
            <small class="rules-text">
              Al marcar esta casilla, confirmo que he leÃ­do y acepto todas las reglas y regulaciones del torneo, 
              incluyendo las polÃ­ticas de pago, cÃ³digos de conducta y requisitos de participaciÃ³n.
            </small>
          </div>

          <!-- BotÃ³n de EnvÃ­o -->
          <div class="form-actions">
            <button 
              type="submit" 
              [disabled]="isLoading || !acceptRules"
              class="submit-btn"
              [class.loading]="isLoading">
              <span *ngIf="!isLoading">
                <i class="btn-icon">ğŸš€</i> Enviar InscripciÃ³n
              </span>
              <span *ngIf="isLoading">
                <i class="spinner">â³</i> Procesando...
              </span>
            </button>
            <small class="form-note">* Campos obligatorios</small>
          </div>
        </form>
      </div>
    </div>

    <!-- PestaÃ±a: Estado de Inscripciones -->
    <div *ngIf="activeTab === 'status'" class="status-section">
      <h2><i class="section-icon">ğŸ“Š</i> Estado de Inscripciones Activas</h2>
      
      <!-- Resumen de Estados -->
    <div class="status-summary">
       <div class="summary-card" *ngFor="let status of statusTypes">
       <div class="summary-count">{{getInscriptionsByStatus(status).length}}</div>
       <div class="summary-label">{{getStatusText(status)}}</div>
        </div>
    </div>

      <!-- Lista de Inscripciones -->
      <div class="inscriptions-list">
        <div *ngIf="currentInscriptions.length === 0" class="empty-state">
          <i class="empty-icon">ğŸ“­</i>
          <h3>No hay inscripciones activas</h3>
          <p>Inscribe tu primer equipo a un torneo</p>
        </div>

        <div *ngFor="let inscription of currentInscriptions" class="inscription-card">
          <div class="card-header">
            <h3>{{inscription.tournament}}</h3>
            <span class="status-badge" [class]="getStatusClass(inscription.status)">
              {{getStatusText(inscription.status)}}
            </span>
          </div>
          
          <div class="card-body">
            <div class="info-row">
              <div class="info-item">
                <span class="info-label">Equipo:</span>
                <span class="info-value">{{inscription.team}}</span>
              </div>
              <div class="info-item">
                <span class="info-label">Fecha:</span>
                <span class="info-value">{{inscription.date}}</span>
              </div>
            </div>
            
            <div class="info-row">
              <div class="info-item">
                <span class="info-label">CapitÃ¡n:</span>
                <span class="info-value">{{inscription.captain}}</span>
              </div>
              <div class="info-item">
                <span class="info-label">Pago:</span>
                <span class="info-value payment-status" [class]="inscription.paymentStatus">
                  {{inscription.paymentStatus === 'pagado' ? 'Pagado' : 'Pendiente'}}
                  <span *ngIf="inscription.paymentDate"> - {{inscription.paymentDate}}</span>
                </span>
              </div>
            </div>
          </div>
          
          <div class="card-actions" *ngIf="inscription.status === 'pago_pendiente'">
            <button class="action-btn pay-btn" (click)="processPayment(inscription.id)">
              <i class="action-icon">ğŸ’³</i> Realizar Pago
            </button>
            <button class="action-btn details-btn">
              <i class="action-icon">ğŸ”</i> Ver Detalles
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- PestaÃ±a: Historial de Torneos -->
    <div *ngIf="activeTab === 'history'" class="history-section">
      <h2><i class="section-icon">ğŸ†</i> Historial de Torneos Jugados</h2>
      
      <div class="history-list">
        <div *ngIf="inscriptionHistory.length === 0" class="empty-state">
          <i class="empty-icon">ğŸ“œ</i>
          <h3>No hay historial de torneos</h3>
          <p>Los torneos en los que participes aparecerÃ¡n aquÃ­</p>
        </div>

        <div *ngFor="let history of inscriptionHistory" class="history-card">
          <div class="trophy-icon">ğŸ†</div>
          
          <div class="history-content">
            <div class="history-header">
              <h3>{{history.tournament}}</h3>
              <span class="history-status completed">Finalizado</span>
            </div>
            
            <div class="history-details">
              <div class="detail">
                <span class="detail-label">Equipo:</span>
                <span class="detail-value">{{history.team}}</span>
              </div>
              <div class="detail">
                <span class="detail-label">Fecha:</span>
                <span class="detail-value">{{history.date}}</span>
              </div>
              <div class="detail">
                <span class="detail-label">CapitÃ¡n:</span>
                <span class="detail-value">{{history.captain}}</span>
              </div>
              <div class="detail">
                <span class="detail-label">Estado:</span>
                <span class="detail-value">{{getStatusText(history.status)}}</span>
              </div>
            </div>
            
            <div class="history-achievements">
              <span class="achievement">
                <i class="achievement-icon">â­</i> ParticipaciÃ³n Confirmada
              </span>
              <span class="achievement">
                <i class="achievement-icon">âœ…</i> Pago Completado
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>